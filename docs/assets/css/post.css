/* ==========================================================
   RouterHaus â€” Post.css (2025)
   For individual article pages (clicked-through posts)
   Uses tokens from blog.css / main.css (no collisions)
   ========================================================== */

/* ---------- Layout shell ---------- */
.post-shell{
  max-width: 860px;
  width: 100%;
  margin: clamp(32px, 4vw, 56px) auto;
  padding: 0 clamp(16px, 2vw, 24px);
  color: var(--text-1);
  font-family: var(--font-sans, Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif);
  line-height: 1.7;
}

/* Optional full-bleed hero area (image/title/meta) */
.post-hero{
  margin-bottom: var(--space-6);
  text-align: center;
}
.post-hero h1{
  margin: .5rem 0 0;
  font-weight: 900;
  letter-spacing: -.01em;
  font-size: clamp(2rem, 1.2rem + 2.8vw, 3rem);
  line-height: 1.15;
  background: linear-gradient(90deg, var(--accent), var(--primary));
  -webkit-background-clip:text; background-clip:text;
  -webkit-text-fill-color:transparent; color:transparent;
}
.post-meta{
  margin-top: .5rem;
  color: var(--text-2);
  font-size: var(--text-sm);
  display: inline-flex; gap: .5rem; align-items: center; justify-content: center;
}
.post-cover{
  margin: var(--space-4) auto var(--space-2);
  border-radius: var(--radius-xl);
  overflow: hidden;
  border: 1px solid var(--border);
  background: var(--surface-tertiary);
  box-shadow: var(--shadow);
}
.post-cover img{ width: 100%; height: auto; display: block; aspect-ratio: 16/9; object-fit: cover; }
.post-cover figcaption{
  font-size: .9rem; color: var(--muted); padding: .6rem .9rem; text-align: center;
  background: color-mix(in oklab, var(--surface-primary) 85%, transparent);
  border-top: 1px solid var(--border);
}

/* ---------- Prose ---------- */
.post-body{ font-size: var(--text-base); }
.post-body > *{ margin: 1rem 0; }

.post-body h2,
.post-body h3,
.post-body h4{
  font-weight: 800;
  line-height: 1.3;
  margin: var(--space-5) 0 var(--space-2);
  color: var(--text-1);
}
.post-body h2{
  font-size: clamp(1.5rem, 1.1rem + 1vw, 2rem);
  border-left: 4px solid var(--accent);
  padding-left: .7rem;
}
.post-body h3{ font-size: clamp(1.25rem, 1.05rem + .6vw, 1.5rem); }
.post-body h4{ font-size: clamp(1.1rem, 1rem + .3vw, 1.25rem); }

.post-body p{ color: var(--text-1); }
.post-body strong{ font-weight: 700; }
.post-body em{ font-style: italic; }

/* Links with subtle underline + hover lift */
.post-body a{
  color: var(--primary);
  text-decoration: underline;
  text-underline-offset: 3px;
  transition: color var(--duration-normal) var(--easing-smooth);
}
.post-body a:hover{ color: var(--accent); }

/* Lists */
.post-body ul,
.post-body ol{
  margin: 1rem 0 1rem 1.5rem;
  padding: 0;
}
.post-body li{ margin: .4rem 0; }
.post-body li::marker{ color: color-mix(in oklab, var(--primary) 65%, var(--text-2)); }

/* Blockquotes */
.post-body blockquote{
  border-left: 4px solid var(--primary);
  padding: .9rem 1.2rem;
  margin: var(--space-5) 0;
  font-style: italic;
  color: var(--text-1);
  background: var(--glass-bg);
  border-radius: var(--radius);
  backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-sat));
  border: 1px solid var(--glass-border);
}
html[data-theme="dark"] .post-body blockquote{
  background: var(--glass-bg);
}

/* Code & Pre */
.post-body code,
.post-body pre,
.post-body kbd{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Fira Code", monospace;
  font-size: .95em;
  background: color-mix(in oklab, var(--surface-secondary) 85%, transparent);
  border: 1px solid var(--border);
  border-radius: .45rem;
}
.post-body code{ padding: .18rem .4rem; }
.post-body pre{
  padding: 1rem 1.1rem;
  overflow-x: auto;
  line-height: 1.55;
  box-shadow: var(--shadow-sm);
}
.post-body pre code{
  background: transparent; border: 0; padding: 0; font-size: .95em;
}

/* Tables */
.post-body table{
  width: 100%; border-collapse: collapse; margin: 1.5rem 0; font-size: .97rem;
  background: var(--surface-primary); border: 1px solid var(--border);
  border-radius: var(--radius);
  overflow: hidden;
}
.post-body th, .post-body td{
  padding: .7rem .9rem; border-bottom: 1px solid var(--border);
}
.post-body thead th{
  text-align: left; color: #fff; background: linear-gradient(135deg, var(--primary), var(--accent));
}
.post-body tbody tr:nth-child(even){
  background: color-mix(in oklab, var(--surface-secondary) 70%, transparent);
}

/* Images in body */
.post-body img{
  border-radius: var(--radius-lg);
  border: 1px solid var(--border);
  box-shadow: var(--shadow-sm);
}

/* Horizontal rule */
.post-body hr{
  border: none; border-top: 1px solid var(--border);
  margin: var(--space-8) 0 var(--space-6);
}

/* ---------- Utilities / in-article components ---------- */

/* Callouts: .callout (default info) + modifiers */
.callout{
  display: grid; grid-template-columns: auto 1fr; gap: .75rem .9rem;
  align-items: start;
  padding: 1rem 1.1rem;
  border-radius: var(--radius-lg);
  background: var(--surface-secondary);
  border: 1px solid var(--border);
  box-shadow: var(--shadow-soft);
}
.callout .icon{ font-size: 1.15rem; line-height: 1; margin-top: .15rem; color: var(--info); }
.callout strong{ display:block; font-weight: 800; margin-bottom: .2rem; }
.callout.info  .icon{ color: var(--info); }
.callout.success .icon{ color: var(--success); }
.callout.warn .icon{ color: var(--warning); }
.callout.danger .icon{ color: var(--danger); }

/* Post tags row */
.post-tags{
  display:flex; flex-wrap:wrap; gap: .4rem;
  margin: var(--space-6) 0 var(--space-4);
}
.post-tags .chip{
  display:inline-flex; align-items:center; gap:.4rem;
  padding: .35rem .7rem;
  border-radius: var(--radius-full);
  background: var(--surface-tertiary);
  border: 1px solid var(--border);
  color: var(--text-1);
  font-size: var(--text-sm); font-weight: 700;
}

/* Share row */
.post-share{
  display:flex; flex-wrap:wrap; gap:.5rem; align-items:center;
  margin: var(--space-4) 0;
  color: var(--text-2);
}
.post-share a.btn{
  padding: .5rem .8rem;
  font-size: var(--text-sm);
}

/* Prev/Next navigation */
.post-nav{
  display:grid; gap: var(--space-3);
  grid-template-columns: 1fr 1fr;
  margin: var(--space-8) 0;
}
.post-nav a{
  display:block;
  padding: 1rem 1.1rem;
  border: 1px solid var(--border);
  border-radius: var(--radius-xl);
  background: var(--surface-primary);
  box-shadow: var(--shadow-sm);
  transition: transform var(--duration-normal) var(--easing-smooth), box-shadow var(--duration-normal) var(--easing-smooth);
}
.post-nav a:hover{ transform: translateY(-3px); box-shadow: var(--shadow); }
.post-nav .meta{ color: var(--text-2); font-size: var(--text-sm); }
.post-nav .title{ font-weight: 800; margin-top: .25rem; }

/* Author card (optional) */
.author-card{
  display:grid; grid-template-columns: auto 1fr; gap: 1rem;
  align-items: center;
  padding: 1rem 1.2rem;
  border: 1px solid var(--border);
  border-radius: var(--radius-2xl);
  background: var(--surface-primary);
  box-shadow: var(--shadow);
  margin: var(--space-8) 0 var(--space-6);
}
.author-card img{
  width: 64px; height: 64px; border-radius: 50%; object-fit: cover;
  border: 2px solid var(--border);
}
.author-card .name{ font-weight: 800; }
.author-card .bio{ color: var(--text-2); font-size: var(--text-sm); }

/* Footnotes */
.footnotes{
  border-top: 1px solid var(--border);
  margin-top: var(--space-8);
  padding-top: var(--space-4);
  color: var(--text-2);
  font-size: var(--text-sm);
}
.footnotes ol{ margin-left: 1.25rem; }

/* In-article TOC (optional, if you render one) */
.toc{
  margin: var(--space-6) 0;
  padding: .9rem 1rem;
  border-radius: var(--radius-lg);
  background: var(--surface-secondary);
  border: 1px solid var(--border);
}
.toc strong{ display:block; margin-bottom: .4rem; }
.toc ul{ margin: .4rem 0 0 1rem; }
.toc a{
  color: var(--text-1); text-decoration: underline; text-underline-offset: 3px;
}
.toc a:hover{ color: var(--accent); }

/* Breadcrumb (optional) */
.breadcrumb{
  margin: 0 0 var(--space-3);
  color: var(--text-2);
  font-size: var(--text-sm);
}
.breadcrumb a{ color: var(--text-2); text-decoration: underline; text-underline-offset: 3px; }
.breadcrumb a:hover{ color: var(--primary); }

/* ---------- Modal/preview compatibility (if reused in post) ---------- */
.post-shell .modal{ z-index: 1200; }

/* ---------- Responsive ---------- */
@media (max-width: 700px){
  .post-shell{ margin: clamp(20px, 3vw, 28px) auto; }
  .post-hero h1{ font-size: clamp(1.8rem, 1.25rem + 2.4vw, 2.4rem); }
  .post-nav{ grid-template-columns: 1fr; }
  .author-card{ grid-template-columns: auto 1fr; }
}
