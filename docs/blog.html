<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="RouterHaus Journal — Guides, reviews, and networking deep-dives." />
  <title>RouterHaus Journal · Blog</title>

  <!-- Fonts & Global Styles -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="main.css" />
  <link rel="stylesheet" href="assets/css/blog.css" />

  <!-- Theme sync (matches other pages) -->
  <meta name="color-scheme" content="light dark" />
  <script>
    (() => {
      const root = document.documentElement;
      const media = matchMedia('(prefers-color-scheme: dark)');
      const apply = () => root.setAttribute('data-theme', media.matches ? 'dark' : 'light');
      apply(); media.addEventListener('change', apply);
    })();
  </script>

  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>
<body>
  <!-- Ambient background (subtle like Kits) -->
  <div class="ambient-bg" aria-hidden="true">
    <span class="bg-orb orb-1"></span>
    <span class="bg-orb orb-2"></span>
    <span class="bg-orb orb-3"></span>
  </div>

  <!-- Header partial -->
  <div id="header-placeholder" data-partial="header.html"></div>

  <main class="container blog-layout">
    <!-- ===== Page header ===== -->
    <header class="page-header">
      <div class="head-wrap">
        <h1 class="page-title">The <span class="grad">RouterHaus</span> Journal</h1>
        <p class="page-sub">Guides, reviews, and networking deep-dives — written for real homes and real teams.</p>
      </div>

      <!-- Command bar: search + sort + page size + tags rail -->
      <section class="command-bar" aria-label="Blog controls">
        <div class="search-container">
          <div class="search-wrapper">
            <span class="search-icon" aria-hidden="true"><i class="fa-solid fa-magnifying-glass"></i></span>
            <input id="searchInput" type="search" placeholder="Search articles (title, author, tags, content) …" aria-label="Search blog" />
          </div>
          <button id="searchBtn" class="btn">Search</button>

          <div class="toolbar-group">
            <div class="sort">
              <span class="icon" aria-hidden="true"><i class="fa-solid fa-arrow-down-wide-short"></i></span>
              <label for="sortSelect">Sort</label>
              <select id="sortSelect" aria-label="Sort articles">
                <option value="newest">Newest</option>
                <option value="popular">Most Popular</option>
                <option value="reading-asc">Shortest Reads</option>
                <option value="reading-desc">Longest Reads</option>
              </select>
            </div>
            <div class="pagesize">
              <span class="icon" aria-hidden="true"><i class="fa-solid fa-table-cells-large"></i></span>
              <label for="pageSizeSelect">Per page</label>
              <select id="pageSizeSelect" aria-label="Articles per page">
                <option>6</option>
                <option>9</option>
                <option selected>12</option>
                <option>18</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Live tag chip filter rail (populated by JS) -->
        <div id="tagsBar" class="chips tags-bar" aria-label="Filter by tag"></div>
      </section>
    </header>

    <!-- Featured hero (auto-filled from dataset) -->
    <section id="featuredHero" class="blog-hero" aria-label="Featured article"></section>

    <!-- Active filters chips + result count -->
    <div class="active-row">
      <div id="activeChips" class="active-chips" role="list" aria-label="Active filters"></div>
      <div class="match-count">
        <strong id="matchCount">0 matches</strong>
      </div>
    </div>

    <!-- Pagination (top) -->
    <nav id="paginationTop" class="pagination" aria-label="Pagination (top)"></nav>

    <!-- Article grid -->
    <section aria-live="polite">
      <div id="skeletonGrid" class="article-grid skeletons" aria-hidden="true"></div>
      <div id="postResults" class="article-grid" role="list"></div>
    </section>

    <!-- Empty state -->
    <section id="emptyState" class="empty-modern hide" aria-live="polite">
      <div class="empty-icon" aria-hidden="true"><i class="fa-solid fa-inbox"></i></div>
      <h3>No articles match your filters</h3>
      <p>Try clearing a tag, changing your search, or exploring a featured guide below.</p>
      <div id="emptyQuickChips" class="chips"></div>
    </section>

    <!-- Pagination (bottom) -->
    <nav id="paginationBottom" class="pagination" aria-label="Pagination (bottom)"></nav>

    <!-- Newsletter callout -->
    <aside class="newsletter glass">
      <div class="nlc">
        <h2>Stay in the loop</h2>
        <p>Monthly digest of the best router picks, Wi-Fi tips, and home network tactics. No spam.</p>
        <form id="newsletterForm" class="nl-form" novalidate>
          <label for="nlEmail" class="sr-only">Email</label>
          <input id="nlEmail" type="email" placeholder="you@example.com" required />
          <button class="btn primary" type="submit">Subscribe</button>
          <small id="nlMsg" role="status" aria-live="polite"></small>
        </form>
      </div>
    </aside>
  </main>

  <!-- Footer partial (single instance) -->
  <div id="footer-placeholder" data-partial="footer.html"></div>

  <!-- ===== Templates ===== -->
  <template id="postCardTpl">
    <article class="post-card reveal" role="listitem">
      <a class="cover" href="#" aria-label="">
        <img alt="" loading="lazy" />
        <div class="badge-row">
          <span class="badge featured-badge" hidden>Featured</span>
        </div>
      </a>

      <header class="post-head">
        <h3 class="post-title">
          <a class="title-link" href="#"></a>
        </h3>
        <div class="meta">
          <span class="author"></span>
          <span class="dot">•</span>
          <time class="date"></time>
          <span class="dot">•</span>
          <span class="read"></span>
          <span class="dot views-dot" hidden>•</span>
          <span class="views" hidden></span>
        </div>
      </header>

      <div class="chips line tags"></div>

      <p class="excerpt"></p>

      <div class="ctaRow">
        <a class="btn" href="#" target="_self" rel="noopener">Read</a>
        <button class="btn ghost previewBtn" type="button">Quick preview</button>
      </div>
    </article>
  </template>

  <template id="skeletonTpl">
    <div class="post-card skeleton">
      <div class="cover shimmer"></div>
      <div class="post-head">
        <div class="s1 shimmer"></div>
        <div class="s2 shimmer"></div>
      </div>
      <div class="s3 shimmer"></div>
      <div class="s3 shimmer"></div>
      <div class="s4 shimmer"></div>
    </div>
  </template>

  <!-- Preview Modal -->
  <dialog id="postPreviewModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <div class="modal-title-group">
          <span class="modal-icon" aria-hidden="true"><i class="fa-solid fa-star"></i></span>
          <h2 id="previewTitle">Preview</h2>
        </div>
        <button class="modal-close" id="previewClose" type="button" aria-label="Close"><i class="fa-solid fa-xmark"></i></button>
      </div>

      <div class="preview-body">
        <div class="preview-meta">
          <span id="previewMeta"></span>
        </div>
        <div id="previewCover" class="preview-cover"></div>
        <article id="previewBody" class="preview-article"></article>
      </div>

      <div class="modal-actions">
        <div></div>
        <a id="previewReadLink" class="btn primary" href="#">Go to full article</a>
      </div>
    </div>
  </dialog>

  <!-- Scripts: global wiring first, then page logic -->
  <script defer src="scripts.js"></script>
  <script defer src="assets/js/blog.js"></script>
</body>
</html>
