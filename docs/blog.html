<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="RouterHaus Journal — Guides, reviews, and networking deep-dives." />
  <title>RouterHaus Journal · Blog</title>

  <!-- Fonts & Global Styles -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="main.css" />
  <link rel="stylesheet" href="assets/css/blog.css" />

  <!-- Theme sync -->
  <meta name="color-scheme" content="light dark" />
  <script>
    (() => {
      const root = document.documentElement;
      const media = matchMedia('(prefers-color-scheme: dark)');
      const apply = () => root.setAttribute('data-theme', media.matches ? 'dark' : 'light');
      apply(); media.addEventListener('change', apply);
    })();
  </script>

  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>
<body>
  <!-- Ambient background -->
  <div class="ambient-bg" aria-hidden="true">
    <span class="bg-orb orb-1"></span>
    <span class="bg-orb orb-2"></span>
    <span class="bg-orb orb-3"></span>
  </div>

  <!-- Header / Footer partials -->
  <div id="header-placeholder" data-partial="header.html"></div>

  <main class="container blog-layout">
    <!-- ===== Page header ===== -->
    <header class="page-header">
      <div class="head-wrap">
        <h1 class="page-title">The <span class="grad">RouterHaus</span> Journal</h1>
        <p class="page-sub">Guides, reviews, and networking deep-dives — written for real homes and real teams.</p>
      </div>

      <!-- Command bar -->
      <section class="command-bar" aria-label="Blog controls">
        <div class="search-container">
          <div class="search-wrapper">
            <span class="search-icon" aria-hidden="true"><i class="fa-solid fa-magnifying-glass"></i></span>
            <input id="searchInput" type="search" placeholder="Search articles (title, author, tags, content) …" aria-label="Search blog" />
          </div>
          <button id="searchBtn" class="btn">Search</button>

          <div class="toolbar-group">
            <div class="sort">
              <span class="icon" aria-hidden="true"><i class="fa-solid fa-arrow-down-wide-short"></i></span>
              <label for="sortSelect">Sort</label>
              <select id="sortSelect" aria-label="Sort articles">
                <option value="newest">Newest</option>
                <option value="popular">Most Popular</option>
                <option value="reading-asc">Shortest Reads</option>
                <option value="reading-desc">Longest Reads</option>
              </select>
            </div>
            <div class="pagesize">
              <span class="icon" aria-hidden="true"><i class="fa-solid fa-table-cells-large"></i></span>
              <label for="pageSizeSelect">Per page</label>
              <select id="pageSizeSelect" aria-label="Articles per page">
                <option>6</option>
                <option>9</option>
                <option selected>12</option>
                <option>18</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Live tag chip filter rail -->
        <div id="tagsBar" class="chips tags-bar" aria-label="Filter by tag"></div>
      </section>
    </header>

    <!-- Featured -->
    <section id="featuredHero" class="blog-hero" aria-label="Featured article"></section>

    <!-- Active filters + count -->
    <div class="active-row">
      <div id="activeChips" class="active-chips" role="list" aria-label="Active filters"></div>
      <div class="match-count">
        <strong id="matchCount">0 matches</strong>
      </div>
    </div>

    <!-- Pagination (top) -->
    <nav id="paginationTop" class="pagination" aria-label="Pagination (top)"></nav>

    <!-- Grid -->
    <section aria-live="polite">
      <div id="skeletonGrid" class="article-grid skeletons" aria-hidden="true"></div>
      <div id="postResults" class="article-grid" role="list"></div>
    </section>

    <!-- Empty state -->
    <section id="emptyState" class="empty-modern hide" aria-live="polite">
      <div class="empty-icon" aria-hidden="true"><i class="fa-solid fa-inbox"></i></div>
      <h3>No articles match your filters</h3>
      <p>Try clearing a tag, changing your search, or exploring a featured guide below.</p>
      <div id="emptyQuickChips" class="chips"></div>
    </section>

    <!-- Pagination (bottom) -->
    <nav id="paginationBottom" class="pagination" aria-label="Pagination (bottom)"></nav>

    <!-- Newsletter -->
    <aside class="newsletter glass">
      <div class="nlc">
        <h2>Stay in the loop</h2>
        <p>Monthly digest of the best router picks, Wi-Fi tips, and home network tactics. No spam.</p>
        <form id="newsletterForm" class="nl-form" novalidate>
          <label for="nlEmail" class="sr-only">Email</label>
          <input id="nlEmail" type="email" placeholder="you@example.com" required />
          <button class="btn primary" type="submit">Subscribe</button>
          <small id="nlMsg" role="status" aria-live="polite"></small>
        </form>
      </div>
    </aside>
  </main>

  <div id="footer-placeholder" data-partial="footer.html"></div>

  <!-- Templates -->
  <template id="postCardTpl">…(unchanged from your last message)…</template>
  <template id="skeletonTpl">…(unchanged)…</template>

  <!-- Preview Modal -->
  <dialog id="postPreviewModal" class="modal">…(unchanged)…</dialog>

  <!-- Scripts: use ONLY the global header wiring + blog.js -->
  <script defer src="scripts.js"></script>
  <script defer src="assets/js/blog.js"></script>
</body>
</html>
